"struct!ConcaveComponent{line_segment_sketch:Leash<LineSegmentSketch>, strokes:Leash<CyclicSlice<LineSegmentStroke>>}pub!fn!find_concave_components{\n    let!concave_components:Vec<ConcaveComponent>=vec![];\n    let!L=line_segment_sketch.strokes.ilen();\n    let!start=0;\n    let!end=1;while!start>-L&&!is_convex(line_segment_sketch, start){\n        start-= 1;\n    }\n    let!ccv_start=start;while!start<ccv_start+L{while!end<=start+L&&!is_convex(line_segment_sketch, end){\n            end+= 1;\n        }\n        if!end>start+1{\n            concave_components.push(ConcaveComponent(line_segment_sketch, line_segment_sketch.strokes.cyclic_slice_leashed(start, end)));\n        }\n;\n        start=end;\n        end=start+1;\n    }\nreturn!(concave_components)\n}\nimpl!fn!visualize(){\n    Self.strokes.visualize();\n}\nimpl!fn!norm(self){\n    Self.hausdorff_norm;\n}\nfn!rel_norm(self){\n    Self.norm/Self.displacement().norm();\n}\nfn!hausdorff_norm(self){\n    let!hausdorff_norm=0;\n    let!curve_start=Self.strokes.first().unwrap().start;\n    let!curve_ls=Self.line_segment();\n    let!dp_norm=curve_ls.displacement().norm();for!{\n        let!point=Self.strokes[i].end;\n        let!point_dist=curve_ls.dist_to_point(point);        if!point_dist>hausdorff_norm{\n            hausdorff_norm=point_dist;\n        }\n;\n    }\nreturn!(hausdorff_norm)\n}\nfn!angle_change(self){\n    let!angle_change=0;\n    let!dp0=Self.strokes[Self.strokes.start()].displacement();for!{\n        let!dp=Self.strokes[i].displacement();\n        angle_change+=dp0.angle_to(dp, true);\n        dp0=dp;\n    }\nreturn!(angle_change)\n}\nfn!bounding_box(self){\n    let!start_point=Self.strokes.first().unwrap().start;\n    let!xmin=start_point.x;\n    let!xmax=start_point.x;\n    let!ymin=start_point.y;\n    let!ymax=start_point.y;for!{\n        let!point=Self.strokes[i].end;\n        xmin=xmin.min(point.x);\n        xmax=xmax.max(point.x);\n        ymin=ymin.min(point.y);\n        ymax=ymax.max(point.y);\n    }\nreturn!(BoundingBox(ClosedRange(xmin, xmax), ClosedRange(ymin, ymax)))\n}\nfn!relative_bounding_box(self){\n    Self.line_segment_sketch.bounding_box.relative_bounding_box(Self.bounding_box);\n}\nfn!line_segment(){\n    LineSegment(Self.strokes.first().unwrap().start.clone(), Self.strokes.last().unwrap().end.clone());\n}\nfn!start(){\n    Self.strokes.first().unwrap().start.clone();\n}\nfn!end(){\n    Self.strokes.last().unwrap().end.clone();\n}\nfn!displacement(){\n    Self.line_segment().displacement();\n}\nfn!start_tangent(){\n    Self.strokes.first().unwrap().displacement();\n}\nfn!end_tangent(){\n    Self.strokes.last().unwrap().displacement();\n}\n"