\documentclass{article}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{fvextra}
\usepackage{tcolorbox}
\usepackage{listings}
\usepackage{amsthm}
\newtheorem{example}{Example}
\fvset{breaklines=true}

\begin{document}
\lstdefinelanguage{LaTeX}{
    breaklines=true,
    basicstyle=\ttfamily\normalsize,
    basewidth={0.6em,0.45em},
    keepspaces=true,
    morekeywords={
            \begin,\end,\usepackage,\documentclass,\maketitle,
            \title,\author,\section,\subsection,\textbf
        },
    alsoletter={\\},      % Treat backslash as part of keywords
    morecomment=[l]{\%},  % Line comment starts with '%'
    morestring=[b]",      % Strings in double quotes
    sensitive=true        % Case-sensitive
}



\begin{example}
Problem:
\begin{tcolorbox}[colback=yellow!10, width=\linewidth]
Prove that for all real numbers $a$ and $b$:
    $$(a+b)^2 \geq 0.$$
\end{tcolorbox}

Simplified proof:
\begin{tcolorbox}[colback=blue!10, width=\linewidth]
Since $a$ and $b$ are real numbers, $a+b$ is a real number.  The square of any real number is non-negative, so $(a+b)^2 \ge 0$.
\end{tcolorbox}
\end{example}

Elaborated proof:
\begin{tcolorbox}[colback=green!10, width=\linewidth]
Since $a$ and $b$ are real numbers, $a+b$ is a real number.  The square of any real number is non-negative, so $(a+b)^2 \ge 0$.
\end{tcolorbox}

Regularized proof:
\begin{tcolorbox}[colback=red!10, width=\linewidth]
We have $a+b$ is a real number by assumption.
We have $(a+b)^2 \ge 0$ because the square of any real number is non-negative.
\end{tcolorbox}



\begin{example}
Problem:
\begin{tcolorbox}[colback=yellow!10, width=\linewidth]
Prove that for any positive real numbers $x$ and $y$:
    $$\frac{x+y}{2} \geq \sqrt{xy}.$$
\end{tcolorbox}

Simplified proof:
\begin{tcolorbox}[colback=blue!10, width=\linewidth]
Since $x$ and $y$ are positive, $(\sqrt x - \sqrt y)^2 \ge 0$. Thus $x - 2\sqrt{xy} + y \ge 0$, so $\frac{x+y}{2} \ge \sqrt{xy}$.
\end{tcolorbox}
\end{example}

Elaborated proof:
\begin{tcolorbox}[colback=green!10, width=\linewidth]
Since $x$ and $y$ are positive, $(\sqrt x - \sqrt y)^2 \ge 0$. Thus $x - 2\sqrt{xy} + y = (\sqrt{x})^2 - 2\sqrt{x}\sqrt{y} + (\sqrt{y})^2 = (\sqrt x - \sqrt y)^2 \ge 0$, so $x+y \ge 2\sqrt{xy}$ and $\frac{x+y}{2} \ge \sqrt{xy}$.
\end{tcolorbox}

Regularized proof:
\begin{tcolorbox}[colback=red!10, width=\linewidth]
It's enough to show that $\frac{x+y}{2} \geq \sqrt{xy}$.
We have $(\sqrt{x} - \sqrt{y})^2 \geq 0$ by the properties of real numbers.
We have $x - 2\sqrt{xy} + y = (\sqrt{x})^2 - 2\sqrt{x}\sqrt{y} + (\sqrt{y})^2 = (\sqrt{x} - \sqrt{y})^2$ by the properties of real numbers.
We have $x - 2\sqrt{xy} + y \geq 0$ by the properties of inequalities.
We have $x + y \geq 2\sqrt{xy}$ by the properties of inequalities.
We have $\frac{x+y}{2} \geq \sqrt{xy}$ by the properties of inequalities.
\end{tcolorbox}



\begin{example}
Problem:
\begin{tcolorbox}[colback=yellow!10, width=\linewidth]
Show that for all real numbers $a$, $b$, and $c$:
    $$a^2 + b^2 + c^2 \geq ab + bc + ca.$$
\end{tcolorbox}

Simplified proof:
\begin{tcolorbox}[colback=blue!10, width=\linewidth]
We have
$$ 2(a^2 + b^2 + c^2 - ab - bc - ca) = (a-b)^2 + (b-c)^2 + (c-a)^2 \ge 0. $$
Thus, $a^2 + b^2 + c^2 \ge ab + bc + ca$.
\end{tcolorbox}
\end{example}

Elaborated proof:
\begin{tcolorbox}[colback=green!10, width=\linewidth]
We have
$$ 2(a^2 + b^2 + c^2 - ab - bc - ca) = 2a^2 + 2b^2 + 2c^2 - 2ab - 2bc - 2ca= (a^2 - 2ab + b^2) + (b^2 - 2bc + c^2) + (c^2 - 2ca + a^2) = (a-b)^2 + (b-c)^2 + (c-a)^2 \ge 0. $$
Thus, $2(a^2 + b^2 + c^2 - ab - bc - ca) \ge 0$, so $a^2 + b^2 + c^2 - ab - bc - ca \ge 0$, and hence $a^2 + b^2 + c^2 \ge ab + bc + ca$.
\end{tcolorbox}

Regularized proof:
\begin{tcolorbox}[colback=red!10, width=\linewidth]
It's enough to show that $a^2 + b^2 + c^2 \ge ab + bc + ca$.
It's enough to show that $a^2 + b^2 + c^2 - ab - bc - ca \ge 0$.
It's enough to show that $2(a^2 + b^2 + c^2 - ab - bc - ca) \ge 0$.
We have $2(a^2 + b^2 + c^2 - ab - bc - ca) = 2a^2 + 2b^2 + 2c^2 - 2ab - 2bc - 2ca$ by algebra.
We have $2a^2 + 2b^2 + 2c^2 - 2ab - 2bc - 2ca= (a^2 - 2ab + b^2) + (b^2 - 2bc + c^2) + (c^2 - 2ca + a^2)$ by algebra.
We have $(a^2 - 2ab + b^2) + (b^2 - 2bc + c^2) + (c^2 - 2ca + a^2) = (a-b)^2 + (b-c)^2 + (c-a)^2$ by algebra.
We have $(a-b)^2 + (b-c)^2 + (c-a)^2 \ge 0$ by the fact that squares are nonnegative.
We have $2(a^2 + b^2 + c^2 - ab - bc - ca) \ge 0$ by the previous derivations.
\end{tcolorbox}



\begin{example}
Problem:
\begin{tcolorbox}[colback=yellow!10, width=\linewidth]
Prove that for any positive real number $x$:
    $$x + \frac{1}{x} \geq 2.$$
\end{tcolorbox}

Simplified proof:
\begin{tcolorbox}[colback=blue!10, width=\linewidth]
Since $x>0$, $(x-1)^2 \ge 0$ implies $x^2 - 2x + 1 \ge 0$. Dividing by $x$ gives $x - 2 + \frac{1}{x} \ge 0$, so $x + \frac{1}{x} \ge 2$.
\end{tcolorbox}
\end{example}

Elaborated proof:
\begin{tcolorbox}[colback=green!10, width=\linewidth]
Since $x>0$, $(x-1)^2 \ge 0$ implies $x^2 - 2x + 1 \ge 0$. Dividing by $x$ gives $\frac{x^2 - 2x + 1}{x} = \frac{x^2}{x} - \frac{2x}{x} + \frac{1}{x}= x - 2 + \frac{1}{x} \ge 0$, so $x + \frac{1}{x} \ge 2$.
\end{tcolorbox}

Regularized proof:
\begin{tcolorbox}[colback=red!10, width=\linewidth]
We have $x > 0$ by assumption.
We have $(x-1)^2 \ge 0$ by the fact that the square of any real number is non-negative.
We have $x^2 - 2x + 1 \ge 0$ by expanding the square.
We have $\frac{x^2 - 2x + 1}{x} \ge 0$ by dividing the inequality by $x > 0$.
We have $x - 2 + \frac{1}{x} \ge 0$ by simplifying the expression.
We have $x + \frac{1}{x} \ge 2$ by rearranging the terms.
\end{tcolorbox}



\begin{example}
Problem:
\begin{tcolorbox}[colback=yellow!10, width=\linewidth]
For positive real numbers $a$ and $b$, prove:
    $$\left(\frac{a+b}{2}\right)^2 \leq \frac{a^2+b^2}{2}.$$
\end{tcolorbox}

Simplified proof:
\begin{tcolorbox}[colback=blue!10, width=\linewidth]
We have
$$ \frac{a^2+b^2}{2} - \left(\frac{a+b}{2}\right)^2 = \frac{2a^2+2b^2-(a^2+2ab+b^2)}{4} = \frac{a^2-2ab+b^2}{4} = \frac{(a-b)^2}{4} \ge 0. $$
Thus, the inequality holds.
\end{tcolorbox}
\end{example}

Elaborated proof:
\begin{tcolorbox}[colback=green!10, width=\linewidth]
We have
$$ \frac{a^2+b^2}{2} - \left(\frac{a+b}{2}\right)^2 = \frac{a^2+b^2}{2} - \frac{(a+b)^2}{4} = \frac{a^2+b^2}{2} - \frac{a^2+2ab+b^2}{4} = \frac{2a^2+2b^2-(a^2+2ab+b^2)}{4} = \frac{a^2-2ab+b^2}{4} = \frac{(a-b)^2}{4} \ge 0. $$
Thus, the inequality holds.
\end{tcolorbox}

Regularized proof:
\begin{tcolorbox}[colback=red!10, width=\linewidth]
It's enough to show that $\left(\frac{a+b}{2}\right)^2 \leq \frac{a^2+b^2}{2}$.
It's enough to show that $\frac{(a+b)^2}{4} \leq \frac{a^2+b^2}{2}$.
It's enough to show that $(a+b)^2 \leq 2(a^2+b^2)$.
It's enough to show that $a^2+2ab+b^2 \leq 2a^2+2b^2$.
It's enough to show that $0 \leq a^2-2ab+b^2$.
It's enough to show that $0 \leq (a-b)^2$.
We have $0 \leq (a-b)^2$ by the square of any real number is non-negative.
\end{tcolorbox}

\end{document}