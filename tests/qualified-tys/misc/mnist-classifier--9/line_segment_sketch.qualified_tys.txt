
eager variable:
    ct          15:21..15:23  EvalRef      mnist_classifier__9::raw_contour::RawContour
    from        15:38..15:42  Copyable     i32
    to          15:49..15:51  Copyable     i32
    ct          32:21..32:23  EvalRef      mnist_classifier__9::raw_contour::RawContour
    r           32:38..32:39  Copyable     f32
    u           38:15..38:16  PureRef      mnist_classifier__9::geom2d::Vector2d
    r           38:28..38:29  Copyable     f32
    L           39:5..39:6  Copyable     f32
    dr          41:5..41:7  Copyable     f32
    dx          42:5..42:7  Copyable     f32
    dy          43:5..43:7  Copyable     f32
    u           46:14..46:15  PureRef      mnist_classifier__9::geom2d::Vector2d
    r           46:27..46:28  Copyable     f32
    L           47:5..47:6  Copyable     f32
    dr          49:5..49:7  Copyable     f32
    dx          50:5..50:7  Copyable     f32
    dy          51:5..51:7  Copyable     f32
    ct          54:17..54:19  EvalRef      mnist_classifier__9::raw_contour::RawContour
    start       54:34..54:39  Copyable     i32
    r           54:46..54:47  Copyable     f32
    end         55:9..55:12  CopyableMut  i32
    dp          56:9..56:11  OwnedMut     mnist_classifier__9::geom2d::Vector2d
    N           57:9..57:10  Copyable     i32
    max_end     58:9..58:16  Copyable     i32
    right_bound  64:9..64:20  OwnedMut     mnist_classifier__9::geom2d::Vector2d
    left_bound  65:9..65:19  OwnedMut     mnist_classifier__9::geom2d::Vector2d
    r_max       66:9..66:14  CopyableMut  f32
    dp_norm     70:13..70:20  Copyable     f32
    dp_right    76:17..76:25  Owned        mnist_classifier__9::geom2d::Vector2d
    dp_left     77:17..77:24  Owned        mnist_classifier__9::geom2d::Vector2d
    ct          87:19..87:21  EvalRef      mnist_classifier__9::raw_contour::RawContour
    start0      87:36..87:42  Copyable     i32
    end         87:49..87:52  Copyable     i32
    r           87:59..87:60  Copyable     f32
    start       88:9..88:14  CopyableMut  i32
    dp0         89:9..89:12  OwnedMut     mnist_classifier__9::geom2d::Vector2d
    min_start   90:9..90:18  Copyable     i32
    right_bound  96:9..96:20  OwnedMut     mnist_classifier__9::geom2d::Vector2d
    left_bound  97:9..97:19  OwnedMut     mnist_classifier__9::geom2d::Vector2d
    r_max       98:9..98:14  CopyableMut  f32
    dp          100:13..100:15  Owned        mnist_classifier__9::geom2d::Vector2d
    dp_norm     101:13..101:20  Copyable     f32
    dp_right    107:17..107:25  Owned        mnist_classifier__9::geom2d::Vector2d
    dp_left     108:17..108:24  Owned        mnist_classifier__9::geom2d::Vector2d
    ct          129:25..129:27  EvalRef      mnist_classifier__9::raw_contour::RawContour
    r           129:42..129:43  Copyable     f32
    line_segments  130:9..130:22  OwnedMut     []mnist_classifier__9::line_segment_sketch::LineSegment
    start       131:9..131:14  CopyableMut  i32
    end         132:9..132:12  CopyableMut  i32
    max_end     133:9..133:16  CopyableMut  i32
    ls_extend_end  136:13..136:26  Owned        mnist_classifier__9::line_segment_sketch::LineSegment
    extend_start_flag  137:13..137:30  CopyableMut  bool
    dp_extend_end  139:17..139:30  Owned        mnist_classifier__9::geom2d::Vector2d
    dp_previous  140:17..140:28  Owned        mnist_classifier__9::geom2d::Vector2d
    N           143:21..143:22  Copyable     i32
    ls          148:17..148:19  OwnedMut     mnist_classifier__9::line_segment_sketch::LineSegment
    ls_last     150:21..150:28  TempRef      mnist_classifier__9::line_segment_sketch::LineSegment
    dp_last     151:21..151:28  Owned        mnist_classifier__9::geom2d::Vector2d
    dp          152:21..152:23  Owned        mnist_classifier__9::geom2d::Vector2d
    dp1         153:21..153:24  Owned        mnist_classifier__9::geom2d::Vector2d
    ls_last     158:25..158:32  Owned        mnist_classifier__9::line_segment_sketch::LineSegment
    N           165:9..165:10  Copyable     i32
    first_line_segment_points_end  166:9..166:38  Copyable     i32
    last_line_segment  167:9..167:26  TempRef      mnist_classifier__9::line_segment_sketch::LineSegment
    last_line_segment  169:13..169:30  Owned        mnist_classifier__9::line_segment_sketch::LineSegment

lazy expr:
    23:29..23:33   this                   EvalRef mnist_classifier__9::line_segment_sketch::LineSegment
    23:29..23:39   this.start             EvalRef mnist_classifier__9::geom2d::Point2d
    23:46..23:50   this                   EvalRef mnist_classifier__9::line_segment_sketch::LineSegment
    23:46..23:54   this.end               EvalRef mnist_classifier__9::geom2d::Point2d
    36:9..36:13    this                   EvalRef mnist_classifier__9::line_segment_sketch::LineSegmentSketch
    36:9..36:27    this.line_segments     EvalRef []mnist_classifier__9::line_segment_sketch::LineSegment

eager expr:
    12:23..12:29   points                 PureRef std::slice::CyclicSlice<mnist_classifier__9::geom2d::Point2d>
    12:23..12:38   points.firstx()        PureRef mnist_classifier__9::geom2d::Point2d
    12:23..12:46   points.firstx().clone()   Transient mnist_classifier__9::geom2d::Point2d
    13:21..13:27   points                 PureRef std::slice::CyclicSlice<mnist_classifier__9::geom2d::Point2d>
    13:21..13:35   points.lastx()         PureRef mnist_classifier__9::geom2d::Point2d
    13:21..13:43   points.lastx().clone()   Transient mnist_classifier__9::geom2d::Point2d
    16:16..16:20   from                   Copyable i32
    16:24..16:26   to                     Copyable i32
    16:16..16:26   from <= to             Copyable bool
    17:21..17:23   ct                     EvalRef mnist_classifier__9::raw_contour::RawContour
    17:50..17:52   to                     Copyable i32
    17:55..17:56   1                      Copyable i32
    17:21..17:30   ct.points              EvalRef []mnist_classifier__9::geom2d::Point2d
    17:44..17:48   from                   Copyable i32
    17:50..17:56   to + 1                 Copyable i32
    17:9..17:20    LineSegment            EvalRef Type
    17:21..17:57   ct.points.cyclic_slice(from, to + 1)   Transient std::slice::CyclicSlice<mnist_classifier__9::geom2d::Point2d>
    17:9..17:58    LineSegment(ct.points.cyclic_slice(from, to + 1))   Transient mnist_classifier__9::line_segment_sketch::LineSegment
    20:9..20:14    start                  PureRef mnist_classifier__9::geom2d::Point2d
    20:18..20:21   end                    PureRef mnist_classifier__9::geom2d::Point2d
    20:9..20:22    start.to(end)          Transient mnist_classifier__9::geom2d::Vector2d
    30:9..30:32    find_concave_components   InferError: failed to infer expr ty
    30:33..30:37   this                   EvalRef mnist_classifier__9::line_segment_sketch::LineSegmentSketch
    30:9..30:38    find_concave_components(this)   Transient []mnist_classifier__9::line_segment_sketch::concave_component::ConcaveComponent
    33:31..33:49   find_line_segments     InferError: failed to infer expr ty
    33:50..33:52   ct                     EvalRef mnist_classifier__9::raw_contour::RawContour
    33:54..33:55   r                      Copyable f32
    33:9..33:26    LineSegmentSketch      EvalRef Type
    33:27..33:29   ct                     EvalRef mnist_classifier__9::raw_contour::RawContour
    33:31..33:56   find_line_segments(ct, r)   Transient []mnist_classifier__9::line_segment_sketch::LineSegment
    33:9..33:57    LineSegmentSketch(ct, find_line_segments(ct, r))   Transient mnist_classifier__9::line_segment_sketch::LineSegmentSketch
    39:10..39:11   u                      PureRef mnist_classifier__9::geom2d::Vector2d
    39:14..39:15   u                      PureRef mnist_classifier__9::geom2d::Vector2d
    39:10..39:13   u.x                    Copyable f32
    39:14..39:17   u.x                    Copyable f32
    39:18..39:19   u                      PureRef mnist_classifier__9::geom2d::Vector2d
    39:22..39:23   u                      PureRef mnist_classifier__9::geom2d::Vector2d
    39:18..39:21   u.y                    Copyable f32
    39:22..39:25   u.y                    Copyable f32
    39:10..39:17   u.x*u.x                Copyable f32
    39:18..39:25   u.y*u.y                Copyable f32
    39:10..39:25   u.x*u.x+u.y*u.y        Copyable f32
    39:9..39:26    (u.x*u.x+u.y*u.y)      Copyable f32
    39:9..39:33    (u.x*u.x+u.y*u.y).sqrt()   Copyable f32
    40:12..40:13   L                      Copyable f32
    40:16..40:17   r                      Copyable f32
    40:12..40:17   L > r                  Copyable bool
    41:10..41:11   r                      Copyable f32
    41:12..41:13   L                      Copyable f32
    41:15..41:16   L                      Copyable f32
    41:17..41:18   L                      Copyable f32
    41:19..41:20   r                      Copyable f32
    41:21..41:22   r                      Copyable f32
    41:15..41:18   L*L                    Copyable f32
    41:19..41:22   r*r                    Copyable f32
    41:15..41:22   L*L-r*r                Copyable f32
    41:14..41:23   (L*L-r*r)              Copyable f32
    41:10..41:13   r*L                    Copyable f32
    41:14..41:30   (L*L-r*r).sqrt()       Copyable f32
    41:10..41:30   r*L/(L*L-r*r).sqrt()   Copyable f32
    42:13..42:14   u                      PureRef mnist_classifier__9::geom2d::Vector2d
    42:10..42:12   dr                     Copyable f32
    42:13..42:16   u.y                    Copyable f32
    42:10..42:16   dr*u.y                 Copyable f32
    42:17..42:18   L                      Copyable f32
    42:10..42:18   dr*u.y/L               Copyable f32
    43:11..43:13   dr                     Copyable f32
    43:14..43:15   u                      PureRef mnist_classifier__9::geom2d::Vector2d
    43:10..43:13   -dr                    Copyable f32
    43:14..43:17   u.x                    Copyable f32
    43:10..43:17   -dr*u.x                Copyable f32
    43:18..43:19   L                      Copyable f32
    43:10..43:19   -dr*u.x/L              Copyable f32
    44:14..44:15   u                      PureRef mnist_classifier__9::geom2d::Vector2d
    44:14..44:17   u.x                    Copyable f32
    44:18..44:20   dx                     Copyable f32
    44:22..44:23   u                      PureRef mnist_classifier__9::geom2d::Vector2d
    44:22..44:25   u.y                    Copyable f32
    44:26..44:28   dy                     Copyable f32
    44:5..44:13    Vector2d               EvalRef Type
    44:14..44:20   u.x+dx                 Copyable f32
    44:22..44:28   u.y+dy                 Copyable f32
    44:5..44:29    Vector2d(u.x+dx, u.y+dy)   Transient mnist_classifier__9::geom2d::Vector2d
    47:10..47:11   u                      PureRef mnist_classifier__9::geom2d::Vector2d
    47:14..47:15   u                      PureRef mnist_classifier__9::geom2d::Vector2d
    47:10..47:13   u.x                    Copyable f32
    47:14..47:17   u.x                    Copyable f32
    47:18..47:19   u                      PureRef mnist_classifier__9::geom2d::Vector2d
    47:22..47:23   u                      PureRef mnist_classifier__9::geom2d::Vector2d
    47:18..47:21   u.y                    Copyable f32
    47:22..47:25   u.y                    Copyable f32
    47:10..47:17   u.x*u.x                Copyable f32
    47:18..47:25   u.y*u.y                Copyable f32
    47:10..47:25   u.x*u.x+u.y*u.y        Copyable f32
    47:9..47:26    (u.x*u.x+u.y*u.y)      Copyable f32
    47:9..47:33    (u.x*u.x+u.y*u.y).sqrt()   Copyable f32
    48:12..48:13   L                      Copyable f32
    48:16..48:17   r                      Copyable f32
    48:12..48:17   L > r                  Copyable bool
    49:10..49:11   r                      Copyable f32
    49:12..49:13   L                      Copyable f32
    49:15..49:16   L                      Copyable f32
    49:17..49:18   L                      Copyable f32
    49:19..49:20   r                      Copyable f32
    49:21..49:22   r                      Copyable f32
    49:15..49:18   L*L                    Copyable f32
    49:19..49:22   r*r                    Copyable f32
    49:15..49:22   L*L-r*r                Copyable f32
    49:14..49:23   (L*L-r*r)              Copyable f32
    49:10..49:13   r*L                    Copyable f32
    49:14..49:30   (L*L-r*r).sqrt()       Copyable f32
    49:10..49:30   r*L/(L*L-r*r).sqrt()   Copyable f32
    50:11..50:13   dr                     Copyable f32
    50:14..50:15   u                      PureRef mnist_classifier__9::geom2d::Vector2d
    50:10..50:13   -dr                    Copyable f32
    50:14..50:17   u.y                    Copyable f32
    50:10..50:17   -dr*u.y                Copyable f32
    50:18..50:19   L                      Copyable f32
    50:10..50:19   -dr*u.y/L              Copyable f32
    51:13..51:14   u                      PureRef mnist_classifier__9::geom2d::Vector2d
    51:10..51:12   dr                     Copyable f32
    51:13..51:16   u.x                    Copyable f32
    51:10..51:16   dr*u.x                 Copyable f32
    51:17..51:18   L                      Copyable f32
    51:10..51:18   dr*u.x/L               Copyable f32
    52:14..52:15   u                      PureRef mnist_classifier__9::geom2d::Vector2d
    52:14..52:17   u.x                    Copyable f32
    52:18..52:20   dx                     Copyable f32
    52:22..52:23   u                      PureRef mnist_classifier__9::geom2d::Vector2d
    52:22..52:25   u.y                    Copyable f32
    52:26..52:28   dy                     Copyable f32
    52:5..52:13    Vector2d               EvalRef Type
    52:14..52:20   u.x+dx                 Copyable f32
    52:22..52:28   u.y+dy                 Copyable f32
    52:5..52:29    Vector2d(u.x+dx, u.y+dy)   Transient mnist_classifier__9::geom2d::Vector2d
    55:15..55:20   start                  Copyable i32
    56:37..56:40   end                    Copyable i32
    56:43..56:44   1                      Copyable i32
    56:14..56:16   ct                     PureRef mnist_classifier__9::raw_contour::RawContour
    56:30..56:35   start                  Copyable i32
    56:37..56:44   end + 1                Copyable i32
    56:14..56:45   ct.displacement(start, end + 1)   Transient mnist_classifier__9::geom2d::Vector2d
    57:13..57:15   ct                     PureRef mnist_classifier__9::raw_contour::RawContour
    57:13..57:22   ct.points              PureRef []mnist_classifier__9::geom2d::Point2d
    57:13..57:29   ct.points.ilen()       Copyable i32
    58:19..58:24   start                  Copyable i32
    58:27..58:28   N                      Copyable i32
    58:19..58:28   start + N              Copyable i32
    59:11..59:14   end                    Copyable i32
    59:18..59:25   max_end                Copyable i32
    59:30..59:32   dp                     PureRef mnist_classifier__9::geom2d::Vector2d
    59:30..59:39   dp.norm()              Copyable f32
    59:42..59:43   r                      Copyable f32
    59:11..59:25   end <= max_end         Copyable bool
    59:30..59:43   dp.norm() < r          Copyable bool
    59:11..59:43   end <= max_end and dp.norm() < r   Copyable bool
    60:9..60:12    end                    TempRefMut i32
    60:9..60:14    end++                  Copyable void
    61:37..61:40   end                    Copyable i32
    61:43..61:44   1                      Copyable i32
    61:14..61:16   ct                     PureRef mnist_classifier__9::raw_contour::RawContour
    61:30..61:35   start                  Copyable i32
    61:37..61:44   end + 1                Copyable i32
    61:9..61:11    dp                     TempRefMut mnist_classifier__9::geom2d::Vector2d
    61:14..61:45   ct.displacement(start, end + 1)   Transient mnist_classifier__9::geom2d::Vector2d
    61:9..61:45    dp = ct.displacement(start, end + 1)   Copyable void
    62:8..62:10    dp                     PureRef mnist_classifier__9::geom2d::Vector2d
    62:8..62:17    dp.norm()              Copyable f32
    62:20..62:21   r                      Copyable f32
    62:8..62:21    dp.norm() < r          Copyable bool
    63:16..63:19   end                    Copyable i32
    64:23..64:31   go_right               InferError: failed to infer expr ty
    64:32..64:34   dp                     PureRef mnist_classifier__9::geom2d::Vector2d
    64:36..64:37   r                      Copyable f32
    64:23..64:38   go_right(dp, r)        Transient mnist_classifier__9::geom2d::Vector2d
    65:22..65:29   go_left                InferError: failed to infer expr ty
    65:30..65:32   dp                     PureRef mnist_classifier__9::geom2d::Vector2d
    65:34..65:35   r                      Copyable f32
    65:22..65:36   go_left(dp, r)         Transient mnist_classifier__9::geom2d::Vector2d
    66:17..66:20   0.0                    Copyable f32
    67:11..67:14   end                    Copyable i32
    67:18..67:25   max_end                Copyable i32
    68:17..68:28   right_bound            PureRef mnist_classifier__9::geom2d::Vector2d
    68:51..68:53   dp                     PureRef mnist_classifier__9::geom2d::Vector2d
    68:17..68:54   right_bound.rotation_direction_to(dp)   Copyable i32
    68:58..68:59   0                      Copyable i32
    67:11..67:25   end <= max_end         Copyable bool
    68:17..68:59   right_bound.rotation_direction_to(dp) >= 0   Copyable bool
    69:17..69:19   dp                     PureRef mnist_classifier__9::geom2d::Vector2d
    69:42..69:52   left_bound             PureRef mnist_classifier__9::geom2d::Vector2d
    69:17..69:53   dp.rotation_direction_to(left_bound)   Copyable i32
    69:57..69:58   0                      Copyable i32
    67:11..68:59   end <= max_end            and right_bound.rotation_direction_to(dp) >= 0   Copyable bool
    69:17..69:58   dp.rotation_direction_to(left_bound) >= 0   Copyable bool
    67:11..69:58   end <= max_end            and right_bound.rotation_direction_to(dp) >= 0             and dp.rotation_direction_to(left_bound) >= 0   Copyable bool
    70:23..70:25   dp                     PureRef mnist_classifier__9::geom2d::Vector2d
    70:23..70:32   dp.norm()              Copyable f32
    71:22..71:27   r_max                  Copyable f32
    71:30..71:31   r                      Copyable f32
    71:12..71:19   dp_norm                Copyable f32
    71:22..71:31   r_max - r              Copyable f32
    71:12..71:31   dp_norm < r_max - r    Copyable bool
    73:14..73:21   dp_norm                Copyable f32
    73:24..73:29   r_max                  Copyable f32
    73:14..73:29   dp_norm > r_max        Copyable bool
    74:13..74:18   r_max                  TempRefMut f32
    74:21..74:28   dp_norm                Copyable f32
    74:13..74:28   r_max = dp_norm        Copyable void
    75:12..75:19   dp_norm                Copyable f32
    75:22..75:23   r                      Copyable f32
    75:12..75:23   dp_norm > r            Copyable bool
    76:28..76:36   go_right               InferError: failed to infer expr ty
    76:37..76:39   dp                     PureRef mnist_classifier__9::geom2d::Vector2d
    76:41..76:42   r                      Copyable f32
    76:28..76:43   go_right(dp, r)        Transient mnist_classifier__9::geom2d::Vector2d
    77:27..77:34   go_left                InferError: failed to infer expr ty
    77:35..77:37   dp                     PureRef mnist_classifier__9::geom2d::Vector2d
    77:39..77:40   r                      Copyable f32
    77:27..77:41   go_left(dp, r)         Transient mnist_classifier__9::geom2d::Vector2d
    78:16..78:27   right_bound            PureRef mnist_classifier__9::geom2d::Vector2d
    78:50..78:58   dp_right               PureRef mnist_classifier__9::geom2d::Vector2d
    78:16..78:59   right_bound.rotation_direction_to(dp_right)   Copyable i32
    78:62..78:63   0                      Copyable i32
    78:16..78:63   right_bound.rotation_direction_to(dp_right) > 0   Copyable bool
    79:17..79:28   right_bound            TempRefMut mnist_classifier__9::geom2d::Vector2d
    79:31..79:39   dp_right               Transient mnist_classifier__9::geom2d::Vector2d
    79:17..79:39   right_bound = dp_right   Copyable void
    80:16..80:23   dp_left                PureRef mnist_classifier__9::geom2d::Vector2d
    80:46..80:56   left_bound             PureRef mnist_classifier__9::geom2d::Vector2d
    80:16..80:57   dp_left.rotation_direction_to(left_bound)   Copyable i32
    80:60..80:61   0                      Copyable i32
    80:16..80:61   dp_left.rotation_direction_to(left_bound) > 0   Copyable bool
    81:17..81:27   left_bound             TempRefMut mnist_classifier__9::geom2d::Vector2d
    81:30..81:37   dp_left                Transient mnist_classifier__9::geom2d::Vector2d
    81:17..81:37   left_bound = dp_left   Copyable void
    82:9..82:12    end                    TempRefMut i32
    82:9..82:14    end++                  Copyable void
    83:37..83:40   end                    Copyable i32
    83:43..83:44   1                      Copyable i32
    83:14..83:16   ct                     PureRef mnist_classifier__9::raw_contour::RawContour
    83:30..83:35   start                  Copyable i32
    83:37..83:44   end + 1                Copyable i32
    83:9..83:11    dp                     TempRefMut mnist_classifier__9::geom2d::Vector2d
    83:14..83:45   ct.displacement(start, end + 1)   Transient mnist_classifier__9::geom2d::Vector2d
    83:9..83:45    dp = ct.displacement(start, end + 1)   Copyable void
    84:12..84:15   end                    Copyable i32
    84:18..84:23   start                  Copyable i32
    84:12..84:23   end > start            Copyable bool
    85:12..85:15   end                    Copyable i32
    88:17..88:20   end                    Copyable i32
    89:36..89:41   start                  Copyable i32
    89:44..89:45   1                      Copyable i32
    89:15..89:17   ct                     PureRef mnist_classifier__9::raw_contour::RawContour
    89:31..89:34   end                    Copyable i32
    89:36..89:45   start - 1              Copyable i32
    89:15..89:46   ct.displacement(end, start - 1)   Transient mnist_classifier__9::geom2d::Vector2d
    90:27..90:29   ct                     PureRef mnist_classifier__9::raw_contour::RawContour
    90:27..90:36   ct.points              PureRef []mnist_classifier__9::geom2d::Point2d
    90:21..90:24   end                    Copyable i32
    90:27..90:43   ct.points.ilen()       Copyable i32
    90:21..90:43   end - ct.points.ilen()   Copyable i32
    91:11..91:16   start                  Copyable i32
    91:20..91:29   min_start              Copyable i32
    91:34..91:37   dp0                    PureRef mnist_classifier__9::geom2d::Vector2d
    91:34..91:44   dp0.norm()             Copyable f32
    91:47..91:48   r                      Copyable f32
    91:11..91:29   start >= min_start     Copyable bool
    91:34..91:48   dp0.norm() < r         Copyable bool
    91:11..91:48   start >= min_start and dp0.norm() < r   Copyable bool
    92:9..92:14    start                  TempRefMut i32
    92:9..92:16    start--                Copyable void
    93:36..93:41   start                  Copyable i32
    93:44..93:45   1                      Copyable i32
    93:15..93:17   ct                     PureRef mnist_classifier__9::raw_contour::RawContour
    93:31..93:34   end                    Copyable i32
    93:36..93:45   start - 1              Copyable i32
    93:9..93:12    dp0                    TempRefMut mnist_classifier__9::geom2d::Vector2d
    93:15..93:46   ct.displacement(end, start - 1)   Transient mnist_classifier__9::geom2d::Vector2d
    93:9..93:46    dp0 = ct.displacement(end, start - 1)   Copyable void
    94:8..94:11    dp0                    PureRef mnist_classifier__9::geom2d::Vector2d
    94:8..94:18    dp0.norm()             Copyable f32
    94:21..94:22   r                      Copyable f32
    94:8..94:22    dp0.norm() < r         Copyable bool
    95:16..95:21   start                  Copyable i32
    95:26..95:32   start0                 Copyable i32
    95:16..95:33   start.min(start0)      Copyable i32
    96:23..96:31   go_right               InferError: failed to infer expr ty
    96:32..96:35   dp0                    PureRef mnist_classifier__9::geom2d::Vector2d
    96:37..96:38   r                      Copyable f32
    96:23..96:39   go_right(dp0, r)       Transient mnist_classifier__9::geom2d::Vector2d
    97:22..97:29   go_left                InferError: failed to infer expr ty
    97:30..97:33   dp0                    PureRef mnist_classifier__9::geom2d::Vector2d
    97:35..97:36   r                      Copyable f32
    97:22..97:37   go_left(dp0, r)        Transient mnist_classifier__9::geom2d::Vector2d
    98:17..98:20   0.0                    Copyable f32
    99:11..99:16   start                  Copyable i32
    99:20..99:29   min_start              Copyable i32
    99:11..99:29   start >= min_start     Copyable bool
    100:39..100:44 start                  Copyable i32
    100:47..100:48 1                      Copyable i32
    100:18..100:20 ct                     PureRef mnist_classifier__9::raw_contour::RawContour
    100:34..100:37 end                    Copyable i32
    100:39..100:48 start - 1              Copyable i32
    100:18..100:49 ct.displacement(end, start - 1)   Transient mnist_classifier__9::geom2d::Vector2d
    101:23..101:25 dp                     PureRef mnist_classifier__9::geom2d::Vector2d
    101:23..101:32 dp.norm()              Copyable f32
    102:22..102:27 r_max                  Copyable f32
    102:30..102:31 r                      Copyable f32
    102:12..102:19 dp_norm                Copyable f32
    102:22..102:31 r_max - r              Copyable f32
    102:12..102:31 dp_norm < r_max - r    Copyable bool
    104:14..104:21 dp_norm                Copyable f32
    104:24..104:29 r_max                  Copyable f32
    104:14..104:29 dp_norm > r_max        Copyable bool
    105:13..105:18 r_max                  TempRefMut f32
    105:21..105:28 dp_norm                Copyable f32
    105:13..105:28 r_max = dp_norm        Copyable void
    106:12..106:19 dp_norm                Copyable f32
    106:22..106:23 r                      Copyable f32
    106:12..106:23 dp_norm > r            Copyable bool
    107:28..107:36 go_right               InferError: failed to infer expr ty
    107:37..107:39 dp                     PureRef mnist_classifier__9::geom2d::Vector2d
    107:41..107:42 r                      Copyable f32
    107:28..107:43 go_right(dp, r)        Transient mnist_classifier__9::geom2d::Vector2d
    108:27..108:34 go_left                InferError: failed to infer expr ty
    108:35..108:37 dp                     PureRef mnist_classifier__9::geom2d::Vector2d
    108:39..108:40 r                      Copyable f32
    108:27..108:41 go_left(dp, r)         Transient mnist_classifier__9::geom2d::Vector2d
    109:16..109:27 right_bound            PureRef mnist_classifier__9::geom2d::Vector2d
    109:50..109:58 dp_right               PureRef mnist_classifier__9::geom2d::Vector2d
    109:16..109:59 right_bound.rotation_direction_to(dp_right)   Copyable i32
    109:62..109:63 0                      Copyable i32
    109:16..109:63 right_bound.rotation_direction_to(dp_right) > 0   Copyable bool
    110:17..110:28 right_bound            TempRefMut mnist_classifier__9::geom2d::Vector2d
    110:31..110:39 dp_right               Transient mnist_classifier__9::geom2d::Vector2d
    110:17..110:39 right_bound = dp_right   Copyable void
    111:16..111:23 dp_left                PureRef mnist_classifier__9::geom2d::Vector2d
    111:46..111:56 left_bound             PureRef mnist_classifier__9::geom2d::Vector2d
    111:16..111:57 dp_left.rotation_direction_to(left_bound)   Copyable i32
    111:60..111:61 0                      Copyable i32
    111:16..111:61 dp_left.rotation_direction_to(left_bound) > 0   Copyable bool
    112:17..112:27 left_bound             TempRefMut mnist_classifier__9::geom2d::Vector2d
    112:30..112:37 dp_left                Transient mnist_classifier__9::geom2d::Vector2d
    112:17..112:37 left_bound = dp_left   Copyable void
    113:12..113:23 right_bound            PureRef mnist_classifier__9::geom2d::Vector2d
    113:46..113:56 left_bound             PureRef mnist_classifier__9::geom2d::Vector2d
    113:12..113:57 right_bound.rotation_direction_to(left_bound)   Copyable i32
    113:61..113:62 0                      Copyable i32
    113:12..113:62 right_bound.rotation_direction_to(left_bound) >= 0   Copyable bool
    114:16..114:21 start                  Copyable i32
    114:25..114:31 start0                 Copyable i32
    116:25..116:36 right_bound            PureRef mnist_classifier__9::geom2d::Vector2d
    116:59..116:61 dp                     PureRef mnist_classifier__9::geom2d::Vector2d
    116:25..116:62 right_bound.rotation_direction_to(dp)   Copyable i32
    116:66..116:67 0                      Copyable i32
    117:29..117:31 dp                     PureRef mnist_classifier__9::geom2d::Vector2d
    117:54..117:64 left_bound             PureRef mnist_classifier__9::geom2d::Vector2d
    117:29..117:65 dp.rotation_direction_to(left_bound)   Copyable i32
    117:69..117:70 0                      Copyable i32
    116:25..116:67 right_bound.rotation_direction_to(dp) >= 0   Copyable bool
    117:29..117:70 dp.rotation_direction_to(left_bound) >= 0   Copyable bool
    116:25..117:70 right_bound.rotation_direction_to(dp) >= 0                         and dp.rotation_direction_to(left_bound) >= 0   Copyable bool
    115:26..118:22 (                        right_bound.rotation_direction_to(dp) >= 0                         and dp.rotation_direction_to(left_bound) >= 0                    )   Copyable bool
    114:16..114:31 start <= start0        Copyable bool
    115:25..118:22 !(                        right_bound.rotation_direction_to(dp) >= 0                         and dp.rotation_direction_to(left_bound) >= 0                    )   Copyable bool
    114:16..118:22 start <= start0                     and !(                        right_bound.rotation_direction_to(dp) >= 0                         and dp.rotation_direction_to(left_bound) >= 0                    )   Copyable bool
    120:13..120:18 start                  TempRefMut i32
    120:13..120:20 start--                Copyable void
    124:8..124:13  start                  Copyable i32
    124:17..124:23 start0                 Copyable i32
    124:8..124:23  start <= start0        Copyable bool
    125:16..125:21 start                  Copyable i32
    127:16..127:22 start0                 Copyable i32
    130:25..130:38 []LineSegment          EvalRef Type
    130:25..130:40 []LineSegment()        Transient []mnist_classifier__9::line_segment_sketch::LineSegment
    131:17..131:18 0                      Copyable i32
    132:15..132:16 1                      Copyable i32
    133:19..133:21 ct                     PureRef mnist_classifier__9::raw_contour::RawContour
    133:19..133:28 ct.points              PureRef []mnist_classifier__9::geom2d::Point2d
    133:19..133:35 ct.points.ilen()       Copyable i32
    134:11..134:14 end                    Copyable i32
    134:18..134:25 max_end                Copyable i32
    134:11..134:25 end <= max_end         Copyable bool
    135:15..135:25 extend_end             InferError: failed to infer expr ty
    135:26..135:28 ct                     EvalRef mnist_classifier__9::raw_contour::RawContour
    135:30..135:35 start                  Copyable i32
    135:37..135:38 r                      Copyable f32
    135:9..135:12  end                    TempRefMut i32
    135:15..135:39 extend_end(ct, start, r)   Copyable i32
    135:9..135:39  end = extend_end(ct, start, r)   Copyable void
    136:29..136:45 LineSegment::new       InferError: failed to infer expr ty
    136:46..136:48 ct                     EvalRef mnist_classifier__9::raw_contour::RawContour
    136:50..136:55 start                  Copyable i32
    136:57..136:60 end                    Copyable i32
    136:29..136:61 LineSegment::new(ct, start, end)   Transient mnist_classifier__9::line_segment_sketch::LineSegment
    137:33..137:37 true                   Copyable bool
    138:12..138:25 line_segments          PureRef []mnist_classifier__9::line_segment_sketch::LineSegment
    138:12..138:32 line_segments.ilen()   Copyable i32
    138:35..138:36 0                      Copyable i32
    138:12..138:36 line_segments.ilen() > 0   Copyable bool
    139:33..139:46 ls_extend_end          PureRef mnist_classifier__9::line_segment_sketch::LineSegment
    139:33..139:61 ls_extend_end.displacement()   Transient mnist_classifier__9::geom2d::Vector2d
    140:31..140:44 line_segments          PureRef []mnist_classifier__9::line_segment_sketch::LineSegment
    140:31..140:52 line_segments.lastx()   PureRef mnist_classifier__9::line_segment_sketch::LineSegment
    140:31..140:67 line_segments.lastx().displacement()   Transient mnist_classifier__9::geom2d::Vector2d
    141:16..141:29 dp_extend_end          PureRef mnist_classifier__9::geom2d::Vector2d
    141:36..141:47 dp_previous            PureRef mnist_classifier__9::geom2d::Vector2d
    141:16..141:48 dp_extend_end.cross(dp_previous)   Copyable f32
    141:16..141:54 dp_extend_end.cross(dp_previous).abs()   Copyable f32
    141:57..141:61 0.01                   Copyable f32
    142:25..142:38 dp_extend_end          PureRef mnist_classifier__9::geom2d::Vector2d
    142:43..142:54 dp_previous            PureRef mnist_classifier__9::geom2d::Vector2d
    142:25..142:55 dp_extend_end.dot(dp_previous)   Copyable f32
    142:58..142:61 0.0                    Copyable f32
    141:16..141:61 dp_extend_end.cross(dp_previous).abs() < 0.01   Copyable bool
    142:25..142:61 dp_extend_end.dot(dp_previous) > 0.0   Copyable bool
    141:16..142:61 dp_extend_end.cross(dp_previous).abs() < 0.01                     and dp_extend_end.dot(dp_previous) > 0.0   Copyable bool
    143:25..143:27 ct                     PureRef mnist_classifier__9::raw_contour::RawContour
    143:25..143:34 ct.points              PureRef []mnist_classifier__9::geom2d::Point2d
    143:25..143:41 ct.points.ilen()       Copyable i32
    144:17..144:30 line_segments          TempRefMut []mnist_classifier__9::line_segment_sketch::LineSegment
    144:62..144:75 line_segments          PureRef []mnist_classifier__9::line_segment_sketch::LineSegment
    144:62..144:83 line_segments.lastx()   PureRef mnist_classifier__9::line_segment_sketch::LineSegment
    144:62..144:90 line_segments.lastx().points   PureRef std::slice::CyclicSlice<mnist_classifier__9::geom2d::Point2d>
    144:41..144:57 LineSegment::new       InferError: failed to infer expr ty
    144:58..144:60 ct                     EvalRef mnist_classifier__9::raw_contour::RawContour
    144:62..144:96 line_segments.lastx().points.start   Copyable i32
    144:98..144:101end                    Copyable i32
    144:17..144:38 line_segments.lastx()   TempRefMut mnist_classifier__9::line_segment_sketch::LineSegment
    144:41..144:102LineSegment::new(ct, line_segments.lastx().points.start, end)   Transient mnist_classifier__9::line_segment_sketch::LineSegment
    144:17..144:102line_segments.lastx() = LineSegment::new(ct, line_segments.lastx().points.start, end)   Copyable void
    145:17..145:34 extend_start_flag      TempRefMut bool
    145:37..145:42 false                  Copyable bool
    145:17..145:42 extend_start_flag = false   Copyable void
    146:12..146:29 extend_start_flag      Copyable bool
    147:21..147:33 extend_start           InferError: failed to infer expr ty
    147:34..147:36 ct                     EvalRef mnist_classifier__9::raw_contour::RawContour
    147:38..147:43 start                  Copyable i32
    147:45..147:48 end                    Copyable i32
    147:50..147:51 r                      Copyable f32
    147:13..147:18 start                  TempRefMut i32
    147:21..147:52 extend_start(ct, start, end, r)   Copyable i32
    147:13..147:52 start = extend_start(ct, start, end, r)   Copyable void
    148:22..148:38 LineSegment::new       InferError: failed to infer expr ty
    148:39..148:41 ct                     EvalRef mnist_classifier__9::raw_contour::RawContour
    148:43..148:48 start                  Copyable i32
    148:50..148:53 end                    Copyable i32
    148:22..148:54 LineSegment::new(ct, start, end)   Transient mnist_classifier__9::line_segment_sketch::LineSegment
    149:16..149:29 line_segments          PureRef []mnist_classifier__9::line_segment_sketch::LineSegment
    149:16..149:36 line_segments.ilen()   Copyable i32
    149:39..149:40 0                      Copyable i32
    149:16..149:40 line_segments.ilen() > 0   Copyable bool
    150:31..150:44 line_segments          TempRef []mnist_classifier__9::line_segment_sketch::LineSegment
    150:31..150:52 line_segments.lastx()   TempRef mnist_classifier__9::line_segment_sketch::LineSegment
    151:31..151:38 ls_last                PureRef mnist_classifier__9::line_segment_sketch::LineSegment
    151:31..151:53 ls_last.displacement()   Transient mnist_classifier__9::geom2d::Vector2d
    152:26..152:28 ls                     PureRef mnist_classifier__9::line_segment_sketch::LineSegment
    152:26..152:43 ls.displacement()      Transient mnist_classifier__9::geom2d::Vector2d
    153:27..153:34 ls_last                PureRef mnist_classifier__9::line_segment_sketch::LineSegment
    153:44..153:46 ls                     PureRef mnist_classifier__9::line_segment_sketch::LineSegment
    153:27..153:40 ls_last.start          PureRef mnist_classifier__9::geom2d::Point2d
    153:44..153:50 ls.end                 PureRef mnist_classifier__9::geom2d::Point2d
    153:27..153:51 ls_last.start.to(ls.end)   Transient mnist_classifier__9::geom2d::Vector2d
    154:20..154:22 dp                     PureRef mnist_classifier__9::geom2d::Vector2d
    154:29..154:36 dp_last                PureRef mnist_classifier__9::geom2d::Vector2d
    154:20..154:37 dp.cross(dp_last)      Copyable f32
    154:20..154:43 dp.cross(dp_last).abs()   Copyable f32
    154:46..154:51 0.001                  Copyable f32
    155:29..155:31 dp                     PureRef mnist_classifier__9::geom2d::Vector2d
    155:36..155:43 dp_last                PureRef mnist_classifier__9::geom2d::Vector2d
    155:29..155:44 dp.dot(dp_last)        Copyable f32
    155:47..155:50 0.0                    Copyable f32
    154:20..154:51 dp.cross(dp_last).abs() < 0.001   Copyable bool
    155:29..155:50 dp.dot(dp_last) > 0.0   Copyable bool
    156:29..156:31 dp                     PureRef mnist_classifier__9::geom2d::Vector2d
    156:38..156:41 dp1                    PureRef mnist_classifier__9::geom2d::Vector2d
    156:29..156:42 dp.cross(dp1)          Copyable f32
    156:29..156:48 dp.cross(dp1).abs()    Copyable f32
    156:49..156:54 0.001                  Copyable f32
    154:20..155:50 dp.cross(dp_last).abs() < 0.001                         and dp.dot(dp_last) > 0.0   Copyable bool
    156:29..156:54 dp.cross(dp1).abs()<0.001   Copyable bool
    157:29..157:31 dp                     PureRef mnist_classifier__9::geom2d::Vector2d
    157:36..157:39 dp1                    PureRef mnist_classifier__9::geom2d::Vector2d
    157:29..157:40 dp.dot(dp1)            Copyable f32
    157:43..157:46 0.0                    Copyable f32
    154:20..156:54 dp.cross(dp_last).abs() < 0.001                         and dp.dot(dp_last) > 0.0                         and dp.cross(dp1).abs()<0.001   Copyable bool
    157:29..157:46 dp.dot(dp1) > 0.0      Copyable bool
    154:20..157:46 dp.cross(dp_last).abs() < 0.001                         and dp.dot(dp_last) > 0.0                         and dp.cross(dp1).abs()<0.001                         and dp.dot(dp1) > 0.0   Copyable bool
    158:35..158:48 line_segments          TempRefMut []mnist_classifier__9::line_segment_sketch::LineSegment
    158:35..158:55 line_segments.popx()   Transient mnist_classifier__9::line_segment_sketch::LineSegment
    159:47..159:54 ls_last                PureRef mnist_classifier__9::line_segment_sketch::LineSegment
    159:47..159:61 ls_last.points         PureRef std::slice::CyclicSlice<mnist_classifier__9::geom2d::Point2d>
    159:69..159:71 ls                     PureRef mnist_classifier__9::line_segment_sketch::LineSegment
    159:69..159:78 ls.points              PureRef std::slice::CyclicSlice<mnist_classifier__9::geom2d::Point2d>
    159:26..159:42 LineSegment::new       InferError: failed to infer expr ty
    159:43..159:45 ct                     EvalRef mnist_classifier__9::raw_contour::RawContour
    159:47..159:67 ls_last.points.start   Copyable i32
    159:69..159:82 ls.points.end          Copyable i32
    159:21..159:23 ls                     TempRefMut mnist_classifier__9::line_segment_sketch::LineSegment
    159:26..159:83 LineSegment::new(ct, ls_last.points.start, ls.points.end)   Transient mnist_classifier__9::line_segment_sketch::LineSegment
    159:21..159:83 ls = LineSegment::new(ct, ls_last.points.start, ls.points.end)   Copyable void
    161:35..161:37 ct                     PureRef mnist_classifier__9::raw_contour::RawContour
    161:35..161:44 ct.points              PureRef []mnist_classifier__9::geom2d::Point2d
    161:27..161:32 start                  Copyable i32
    161:35..161:51 ct.points.ilen()       Copyable i32
    161:17..161:24 max_end                TempRefMut i32
    161:27..161:51 start + ct.points.ilen()   Copyable i32
    161:17..161:51 max_end = start + ct.points.ilen()   Copyable void
    162:13..162:26 line_segments          TempRefMut []mnist_classifier__9::line_segment_sketch::LineSegment
    162:32..162:34 ls                     Transient mnist_classifier__9::line_segment_sketch::LineSegment
    162:13..162:35 line_segments.push(ls)   Copyable void
    163:9..163:14  start                  TempRefMut i32
    163:17..163:20 end                    Copyable i32
    163:9..163:20  start = end            Copyable void
    164:15..164:20 start                  Copyable i32
    164:23..164:24 1                      Copyable i32
    164:9..164:12  end                    TempRefMut i32
    164:15..164:24 start + 1              Copyable i32
    164:9..164:24  end = start + 1        Copyable void
    165:13..165:15 ct                     PureRef mnist_classifier__9::raw_contour::RawContour
    165:13..165:22 ct.points              PureRef []mnist_classifier__9::geom2d::Point2d
    165:13..165:29 ct.points.ilen()       Copyable i32
    166:41..166:54 line_segments          PureRef []mnist_classifier__9::line_segment_sketch::LineSegment
    166:41..166:63 line_segments.firstx()   PureRef mnist_classifier__9::line_segment_sketch::LineSegment
    166:41..166:70 line_segments.firstx().points   PureRef std::slice::CyclicSlice<mnist_classifier__9::geom2d::Point2d>
    166:41..166:74 line_segments.firstx().points.end   Copyable i32
    167:29..167:42 line_segments          TempRef []mnist_classifier__9::line_segment_sketch::LineSegment
    167:29..167:50 line_segments.lastx()   TempRef mnist_classifier__9::line_segment_sketch::LineSegment
    168:8..168:25  last_line_segment      PureRef mnist_classifier__9::line_segment_sketch::LineSegment
    168:8..168:32  last_line_segment.points   PureRef std::slice::CyclicSlice<mnist_classifier__9::geom2d::Point2d>
    168:40..168:69 first_line_segment_points_end   Copyable i32
    168:72..168:73 N                      Copyable i32
    168:8..168:36  last_line_segment.points.end   Copyable i32
    168:40..168:73 first_line_segment_points_end + N   Copyable i32
    168:8..168:73  last_line_segment.points.end >= first_line_segment_points_end + N   Copyable bool
    169:33..169:46 line_segments          TempRefMut []mnist_classifier__9::line_segment_sketch::LineSegment
    169:33..169:53 line_segments.popx()   Transient mnist_classifier__9::line_segment_sketch::LineSegment
    170:9..170:22  line_segments          TempRefMut []mnist_classifier__9::line_segment_sketch::LineSegment
    172:13..172:30 last_line_segment      PureRef mnist_classifier__9::line_segment_sketch::LineSegment
    172:13..172:37 last_line_segment.points   PureRef std::slice::CyclicSlice<mnist_classifier__9::geom2d::Point2d>
    172:13..172:43 last_line_segment.points.start   Copyable i32
    172:46..172:47 N                      Copyable i32
    173:13..173:26 line_segments          PureRef []mnist_classifier__9::line_segment_sketch::LineSegment
    173:13..173:35 line_segments.firstx()   PureRef mnist_classifier__9::line_segment_sketch::LineSegment
    173:13..173:42 line_segments.firstx().points   PureRef std::slice::CyclicSlice<mnist_classifier__9::geom2d::Point2d>
    173:13..173:46 line_segments.firstx().points.end   Copyable i32
    173:49..173:50 1                      Copyable i32
    170:34..170:50 LineSegment::new       InferError: failed to infer expr ty
    171:13..171:15 ct                     EvalRef mnist_classifier__9::raw_contour::RawContour
    172:13..172:47 last_line_segment.points.start - N   Copyable i32
    173:13..173:50 line_segments.firstx().points.end - 1   Copyable i32
    170:9..170:31  line_segments.firstx()   TempRefMut mnist_classifier__9::line_segment_sketch::LineSegment
    170:34..174:10 LineSegment::new(            ct,            last_line_segment.points.start - N,            line_segments.firstx().points.end - 1        )   Transient mnist_classifier__9::line_segment_sketch::LineSegment
    170:9..174:10  line_segments.firstx() = LineSegment::new(            ct,            last_line_segment.points.start - N,            line_segments.firstx().points.end - 1        )   Copyable void
    175:12..175:25 line_segments          Transient []mnist_classifier__9::line_segment_sketch::LineSegment

lazy expr:
    23:29..23:33   this                   EvalRef mnist_classifier__9::line_segment_sketch::LineSegment
    23:29..23:39   this.start             EvalRef mnist_classifier__9::geom2d::Point2d
    23:46..23:50   this                   EvalRef mnist_classifier__9::line_segment_sketch::LineSegment
    23:46..23:54   this.end               EvalRef mnist_classifier__9::geom2d::Point2d
    36:9..36:13    this                   EvalRef mnist_classifier__9::line_segment_sketch::LineSegmentSketch
    36:9..36:27    this.line_segments     EvalRef []mnist_classifier__9::line_segment_sketch::LineSegment
